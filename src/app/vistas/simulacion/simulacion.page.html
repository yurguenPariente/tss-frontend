<ion-header [translucent]="true">
    <ion-toolbar>
        <ion-buttons slot="start">
            <ion-menu-button></ion-menu-button>
        </ion-buttons>
        <ion-title>Simulacion</ion-title>
    </ion-toolbar>
</ion-header>

<ion-content>
    <h2 class="mt-3 text-center">Datos para la simulacion</h2>


    <div style="padding-left: 25px; padding-top: 75px;">
        <div *ngIf="apFlag">
            Sin simulacion, ingrese cuantos años quiere realizar el proyecto
            <form class="example-form mt-2" [formGroup]="miFormulario2">
                <mat-form-field class="example-full-width" appearance="fill">
                    <mat-label>Años que se realizara el proyecto</mat-label>
                    <input type="number" matInput formControlName='anhosDelProyecto'>
                </mat-form-field>
            </form>
            <button mat-flat-button color='primary' class="me-3 mb-3 " (click)="sinSimulacion() " [disabled]="miFormulario2.invalid ">Aceptar</button>
        </div>
        <br>
        <h2> {{ titulo }} </h2>
        <ion-list style="margin-right: 25px;">
            <ion-item>
                <ion-label>VAN: {{ calcularVan() }}</ion-label>
            </ion-item>
            <div *ngIf="!apFlag">
                <ion-item>
                    <ion-label>Exitosos: {{ exito }} ({{ resultadosSim[2] }}%)</ion-label>
                </ion-item>

                <ion-item>
                    <ion-label>Fallidos: {{ fracaso }} ({{ resultadosSim[4] }}%)</ion-label>
                </ion-item>

            </div>
        </ion-list>
    </div>
    <div>
        <div>
          <div style="display: block">
            <canvas baseChart
              [datasets]="barChartData"
              [labels]="barChartLabels"
              [options]="barChartOptions"
              [legend]="barChartLegend"
              [chartType]="barChartType">
            </canvas>
          </div>
          <button mat-button mat-raised-button color="primary" (click)="randomize()">Update</button>
        </div>
      </div>
</ion-content>