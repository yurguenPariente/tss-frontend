<ion-header [translucent]="true">
    <ion-toolbar>
        <ion-buttons slot="start">
            <ion-menu-button></ion-menu-button>
        </ion-buttons>
        <ion-title>Simulacion</ion-title>
    </ion-toolbar>
</ion-header>

<ion-content>
    <h2 class="mt-3 text-center">Resultados de la simulacion</h2>

    <div>
        <div>
            <div style="display: block">
                <canvas baseChart [datasets]="barChartData3" [labels]="barChartLabels2" [options]="barChartOptions" [legend]="barChartLegend" [chartType]="barChartType">
            </canvas>
            </div>
        </div>
    </div>
    
    <div>
        <div>
            <div style="display: block">
                <canvas baseChart [datasets]="barChartData2" [labels]="barChartLabels2" [options]="barChartOptions" [legend]="barChartLegend" [chartType]="barChartType">
            </canvas>
            </div>
        </div>
    </div>
    <div>
        <div>
            <div style="display: block">
                <canvas baseChart [datasets]="barChartData" [labels]="barChartLabels" [options]="barChartOptions" [legend]="barChartLegend" [chartType]="barChartType">
            </canvas>
            </div>
        </div>
    </div>
    <div>
        <div>
            <div style="display: block">
                <canvas baseChart [datasets]="barChartData4" [labels]="barChartLabels3" [options]="barChartOptions" [legend]="barChartLegend" [chartType]="barChartType">
            </canvas>
            </div>
        </div>
    </div>
    <div style="padding-left: 25px" class="mt-2">
        <div *ngIf="apFlag">
            Sin simulacion, ingrese cuantos años quiere realizar el proyecto
            <form class="example-form mt-2" [formGroup]="miFormulario2">
                <mat-form-field class="example-full-width" appearance="fill">
                    <mat-label>Años que se realizara el proyecto</mat-label>
                    <input type="number" matInput formControlName='anhosDelProyecto'>
                </mat-form-field>
            </form>
            <button mat-flat-button color='primary' class="me-3 mb-3 " (click)="sinSimulacion() " [disabled]="miFormulario2.invalid ">Aceptar</button>
        </div>
        <ion-list style="margin-right: 25px;">
            <ion-item>
                <ion-label>VAN Original: {{ calcularVan() }}</ion-label>
            </ion-item>
            <ion-item>
                <ion-label>TIR Original: {{ calcularTir() }}%</ion-label>
            </ion-item>
            <div *ngIf="!apFlag">
                <ion-item>
                    <ion-label>Exitosos: {{ exito }} ({{ exito/10 }}%)</ion-label>
                </ion-item>

                <ion-item>
                    <ion-label>Fallidos: {{ fracaso }} ({{ fracaso/10 }}%)</ion-label>
                </ion-item>

                <ion-item>
                    <ion-label>Media VAN: {{media | number}}</ion-label>
                </ion-item>

                <ion-item>
                    <ion-label>Desviacion VAN: {{desviacion | number}}</ion-label>
                </ion-item>

                <ion-item>
                    <ion-label>Media TIR: {{mediaTir | number}} %</ion-label>
                </ion-item>

                <ion-item>
                    <ion-label>Desviacion TIR: {{desviacionTir | number}} %</ion-label>
                </ion-item>

            </div>
        </ion-list>
    </div>
</ion-content>